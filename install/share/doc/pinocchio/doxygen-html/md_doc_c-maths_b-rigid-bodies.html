<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>pinocchio: Rigid Bodies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pinocchio.ico" rel="icon" type="image/x-icon">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script>
<script type="text/javascript" async="async" src="MathJax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pinocchio.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pinocchio
   &#160;<span id="projectnumber">2.5.1</span>
   </div>
   <div id="projectbrief">A fast and flexible implementation of Rigid Body Dynamics algorithms and their analytical derivatives</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_doc_c-maths_b-rigid-bodies.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Rigid Bodies </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md90"></a>
Geometry</h1>
<p>A rigid body system is an assembly of different parts which are joints, rigid bodies and forces. A joint connects two different bodies and gather all kinematic relations between those two bodies, allowing the creation of a relative displacement between the two bodies. This displacement is described by breaking it down into three parts, rotations, translations or the compositions of a rotation and a translation.</p>
<p>Rotation matrices form the so-called <b>Special Orthogonal</b> group \( SO(n) \). There are two groups within the latter which interest us as for now: \( SO(2) \) and \( SO(3) \). \( SO(3) \) is the group of all rotations in the 3-dimensionnal space. Its elements are matrices of size 3 by 3. \( SO(3) \) is useful for planar problems. It is the group of rotations in the 2-dimensionnal space. Its elements are matrices of size 2 by 2.</p>
<p>The set that brings together all the homogeneous transformations matrices is the <b>Special Euclidean</b> group \( SE(n) \). As with rotation matrices, there are two different groups, \( SE(3) \) for 3-dimensional transformations and \( SE(2) \) for 2-dimensional transformation, i.e. transformation in a plane.</p>
<h2><a class="anchor" id="autotoc_md91"></a>
Using quaternions for a \f$ SO(3) \f$ object</h2>
<p>To use quaternions for a \( SO(3) \) object we have several methods, we can do as in the \( SE(3) \) example in the <b>e-lie</b> chapter by removing the translation vector.</p>
<p>Or we can just consider one rotation instead of two. For example, in a landmark link to the robot itself, we consider the starting position as the origin of this landmark. <br  />
</p>
<p>So let's consider a cube in the 3-dimensional space.</p>
<div class="image">
<img src="cube_rotation.gif" alt=""/>
<div class="caption">
A rotation around its diagonal</div></div>
   <div class="image">
<img src="cube-rotation_picture.jpg" alt=""/>
<div class="caption">
Position and Landmark</div></div>
   <p>We want to determine the image of a vector \( \overrightarrow{v} \) by a \( 120Â° \) rotation ( \( \frac{2\pi}{3}) \) around the big diagonal of the cube, let's call it \( \overrightarrow{r} \). We have to use a passage through quaternion. We have \( \overrightarrow{v} = \overrightarrow{i} + \overrightarrow{k} = \begin{pmatrix} 1 \\ 0 \\ 1 \end{pmatrix} \) and \( \overrightarrow{r} = \overrightarrow{i} + \overrightarrow{j} + \overrightarrow{k} = \begin{pmatrix} 1 \\ 1 \\ 1 \end{pmatrix} \)</p>
<p>We compute the corresponding quaternion:</p>
<p>\( q = cos(\alpha/2) + sin(\alpha/2) * \frac{\overrightarrow{r}}{||\overrightarrow{r}||} \)</p>
<p>Therefore we have:</p>
<p>\( q = \frac{1}{2} + \frac{1}{2} * (\overrightarrow{i} + \overrightarrow{j} + \overrightarrow{k}) \)</p>
<p>And so we can compute the image of vector \( \overrightarrow{v} \) using:</p>
<p>\( \overrightarrow{v&#39;} = q * \overrightarrow{v} *q^{-1} \)</p>
<p>we have:</p>
<p>\( \overrightarrow{v&#39;} = \overrightarrow{i} + \overrightarrow{j} = \begin{pmatrix} 1 \\ 1 \\ 0 \end{pmatrix} \)</p>
<h2><a class="anchor" id="autotoc_md92"></a>
Benefits of using quaternions</h2>
<p>Determining the matrix corresponding to a rotation is not immediate, so that very often the physical problem is defined by the couple \( (\alpha,\overrightarrow{r} ) \). Another problem related to the composition of rotations is known as "blocking of Cardan" : we can see it in specific cases, for example when two successive joints have close or even aligned axes of rotation. In this case, a very large variation of the first angle does not change the position of the end of the device. A robot could then generate very strong violent movements without realizing it, due to the approximation of the calculations. To remedy these two points, we use quaternions.</p>
<h2><a class="anchor" id="autotoc_md93"></a>
Cartesian product</h2>
<p>Of course the cartesian product is essential for analysis and description of the movement in our Euclidean space. But here, it's specific to the lie algebra, this is different from the cartesian product which define our space. The cartesian product can also be used to create a specific space by associating spaces related to the lie algebra as \( SE(n) \) and \( SO(n) \) groups.</p>
<p>For example let's consider a wheeled robot like Tiago. It can only move on the ground. It is possible to assimilate the ground as a plane. The robot can rotate around the z-axis so we have to deal with a \( SE(2) \) object. Then we attach to this \( SE(2) \) object an articulated arm with four revolute joints spread out his arm, each has one degree of freedom of rotation so they are \( SO(2) \) objects. To deal with this set we use the cartesian product related to the lie algebra and we get a new space in which we are able to represent all the possible trajectories of the robot and its arm.</p>
<h2><a class="anchor" id="autotoc_md94"></a>
Vector space</h2>
<p>If you want to create a tangent space to simplify calculations of a trajectory it is necessary to use vector spaces. Indeed, a tangent space is a vector space that is the whole of all velocity vectors. Let's consider an object having a trajectory, all points of it have a velocity which is tangent to the trajectory and the space associate to one velocity and passing by one point of the trajectory is the <b>tangent</b> <b>space</b>.</p>
<p>Furthermore, by using vector spaces we have the possibility to use its properties as those of the Euclidean cross operator and linear combinations. However it is important to know that "vector space" is here related to <b>Lie algebra</b> and this is different for a vector space we used to deal with.</p>
<h1><a class="anchor" id="autotoc_md95"></a>
Kinematics</h1>
<h1><a class="anchor" id="autotoc_md96"></a>
Dynamics</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
